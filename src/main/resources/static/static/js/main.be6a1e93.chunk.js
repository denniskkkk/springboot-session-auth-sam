(this["webpackJsonpdatadbx-app"]=this["webpackJsonpdatadbx-app"]||[]).push([[0],{100:function(e,t,n){},106:function(e,t,n){},217:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(1),c=n.n(s),i=n(22),o=n.n(i),r=(n(100),n(18)),l=n(19),d=n(12),h=n(21),u=n(20),b=n(234),j=n(237),m=n(231),O=n(5),p=n(27),x=(n(106),n(14)),f=n(232),g=n(86),v=n(235),C=(n(65),function(e){return{s:e.todos}}),y=(window.location.hostname,window.location.port,function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).defaultitem={email:"",password:"",text:""},a.state={item:a.defaultitem},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.id,s=Object(x.a)({},this.state.item);s[a]=n,this.setState({item:s})}},{key:"handleSubmit",value:function(){alert("item submit: "+this.state.item.email+", "+this.state.item.password+", "+this.state.item.text);/\S+@\S+/.test(String(this.state.item.email).toLowerCase())||console.log("errror");var e={email:"",password:"",text:""};this.setState({item:e})}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(f.a.Row,{children:[Object(a.jsxs)(f.a.Group,{as:g.a,controlId:"email",children:[Object(a.jsx)(f.a.Label,{size:"sm",children:"Email address"}),Object(a.jsx)(f.a.Control,{type:"email",placeholder:"Enter email",value:this.state.item.email,onChange:this.handleChange})]}),Object(a.jsxs)(f.a.Group,{as:g.a,controlId:"password",children:[Object(a.jsx)(f.a.Label,{size:"sm",children:"Password"}),Object(a.jsx)(f.a.Control,{type:"password",placeholder:"Password",value:this.state.item.password,onChange:this.handleChange})]})]}),Object(a.jsx)(f.a.Group,{controlId:"checked",children:Object(a.jsx)(f.a.Check,{type:"checkbox",label:"Check me out"})}),Object(a.jsx)(f.a.Group,{controlId:"text",children:Object(a.jsxs)(f.a.Row,{children:[Object(a.jsx)(f.a.Label,{column:"sm",lg:2,children:"Small Text"}),Object(a.jsx)(g.a,{xs:4,children:Object(a.jsx)(f.a.Control,{disabled:!1,size:"sm",type:"text",placeholder:"enter text",value:this.state.item.text,onChange:this.handleChange})})]})}),Object(a.jsx)(v.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"Submit "})," "," ",Object(a.jsx)(v.a,{variant:"secondary",onClick:this.handleSubmit,children:"TEST"})]})})}}]),n}(s.Component)),k=Object(p.b)(C)(y),S=n(87),w=n.n(S),T="ws://"+window.location.hostname+":"+window.location.port+"/websocket",D=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).defaultitem={email:"",password:"",text:""},a.sendStompMessage=function(){console.log("stomp send...."),a.clientRef.sendMessage("/app/userall","send stomp message send...")},a.ws=new WebSocket(T),a.state={date:new Date,last:[],item:a.defaultitem,msg:"",latestMessage:null},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleMessage=a.handleMessage.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"handleMessage",value:function(e){this.setState({latestMessage:e})}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("ws connected")},this.ws.onmessage=function(t){e.setState({msg:t.data})},this.ws.onclose=function(){console.log("ws disconnected"),setTimeout((function(){console.log("reconnect"),e.setState({ws:new WebSocket(T)})}),3e3)},this.ws.onerror=function(t){console.log("ws error"),e.ws.close(),setTimeout((function(){console.log("reconnect"),e.setState({ws:new WebSocket(T)})}),3e3)},this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.id,s=Object(x.a)({},this.state.item);s[a]=n,this.setState({item:s})}},{key:"handleSubmit",value:function(){/\S+@\S+/.test(String(this.state.item.email).toLowerCase())||console.log("errror");var e={email:"",password:"",text:""};this.setState({item:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.msg,s=t.latestMessage,c=this.props.s.lists;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"Clock",children:[this.state.date.toLocaleTimeString(),"/",this.props.s.counter,Object(a.jsx)("p",{children:Object(a.jsx)("ul",{children:c.map((function(e,t){return Object(a.jsxs)("li",{children:["item:",e.name,"-",t]})}))})})]}),Object(a.jsx)("div",{children:Object(a.jsxs)(O.a,{color:"danger",fade:"true",children:["ws message= ",n||"<no message>"]})}),Object(a.jsx)("div",{children:Object(a.jsxs)(O.a,{color:"danger",fade:"true",children:["stomp message= ",s||"<no message>"]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:Object(a.jsx)(O.b,{color:"primary",onClick:this.sendStompMessage,children:"STOMPSEND"})}),Object(a.jsx)(w.a,{url:"http://localhost:8080/ws",topics:["/topic/user"],onConnect:function(){e.setState({latestMessage:"STOMP connected"})},onDisconnect:function(){e.setState({latestMessage:"STOMP disconnected"})},onMessage:function(t){e.setState({latestMessage:t})},ref:function(t){e.clientRef=t}})]})]})}}]),n}(s.Component),E=Object(p.b)(C)(D),L=n(45),M=n(23),P=n.n(M),I=n(33),A=(n(217),n(230)),R=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).handleConfirm=a.fnConfirm.bind(Object(d.a)(a)),a.handleCancel=a.fnCancel.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"fnConfirm",value:function(){this.props.onConfirm()}},{key:"fnCancel",value:function(){this.props.onCancel()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(O.j,{isOpen:this.props.open,toggle:this.handleCancel,className:"ConfirmDlg",children:[Object(a.jsx)(O.m,{toggle:this.handleCancel,children:"Confirm Delete"}),Object(a.jsxs)(O.k,{children:["Confirm delete!!!",Object(a.jsx)("br",{}),this.props.message.msg,Object(a.jsx)("br",{}),this.props.message.data," ",Object(a.jsx)("br",{}),"Id=",this.props.message.idx]}),Object(a.jsxs)(O.l,{children:[Object(a.jsx)(O.b,{color:"primary",onClick:this.handleConfirm,children:"Confirm"})," ",Object(a.jsx)(O.b,{color:"secondary",onClick:this.handleCancel,children:"Cancel"})]})]})})}}]),n}(s.Component),F=n(62),G=n.n(F),Y="http://"+window.location.hostname+":8080/data/list";Object(F.createTheme)("dbxtheme",{text:{primary:"#000000",secondary:"#805000"},background:{default:"#ffffff"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#073642"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}});var N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={dbx:[],isdelete:!1,idx:"",col:[]},a.handleClick=a.handleCheck.bind(Object(d.a)(a)),a.handleDelete=a.fnDelete.bind(Object(d.a)(a)),a.handleConfirm=a.fnConfirm.bind(Object(d.a)(a)),a.handleCancel=a.fnCancel.bind(Object(d.a)(a)),a.handleTest=a.fnTest.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"dbxmap",value:function(){var e=Object(I.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({dbx:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.dbxmap()}},{key:"handleCheck",value:function(e){this.setState((function(e){return{check:!e.check}})),console.log("check"),e.preventDefault()}},{key:"fnDelete",value:function(e){this.setState({isdelete:!0}),this.setState({idx:e})}},{key:"fnConfirm",value:function(){var e=Object(I.a)(P.a.mark((function e(){var t=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"/".concat(this.state.idx),{method:"DELETE",headers:{Accept:"application/json",Content:"application/json"}}).then((function(){t.setState({dbx:Object(L.a)(t.state.dbx).filter((function(e){return e.idx!==t.state.idx})),isdelete:!1,idx:""})})).then((function(){t.setState({isdelete:!1,idx:""})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fnCancel",value:function(){this.setState({isdelete:!1})}},{key:"fnTest",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,t=this.state,n=(t.dbx,t.idx);return Object(a.jsxs)("div",{className:"Dbx",children:[Object(a.jsx)(R,{message:{msg:"messages...",data:"data....",idx:n},open:this.state.isdelete,onConfirm:function(){return e.handleConfirm()},onCancel:this.handleCancel}),Object(a.jsxs)("div",{children:[Object(a.jsx)(O.b,{color:"primary",mt:1,tag:A.a,to:"/dbxedit/new",children:"AddITEM"})," ",Object(a.jsx)(O.b,{color:"primary",onClick:this.handlePurge,disabled:"false",children:"Refresh"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(G.a,{data:this.state.dbx,title:"DBX",columns:[{name:"idx",selector:"idx",sortable:!0},{name:"name",selector:"name",sortable:!0,right:!0},{name:"address",selector:"address",sortable:!0,right:!0},{name:"action",sortable:!1,cell:function(e){return Object(a.jsxs)("div",{children:[e.idx,"-",e.name]})}},{ignoreRowClick:!0,allowOverflow:!0,button:!0,cell:function(e){return Object(a.jsx)(O.b,{color:"success",tag:A.a,to:"/dbxedit/"+e.idx,id:e.id,children:"Edit"})}},{ignoreRowClick:!0,allowOverflow:!0,button:!0,cell:function(t){return Object(a.jsx)(O.b,{color:"success",onClick:function(n){return e.handleDelete(t.idx)},id:t.id,children:"Delete"})}}],theme:"dbxtheme",selectableRows:!0,Clicked:!0,expandableRows:!0,expandableRowDisabled:function(e){return e.disabled},pagination:!0,paginationPerPage:25})})]})}}]),n}(s.Component),B=n(236),U="http://"+window.location.hostname+":8080/data/list",z=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).defaultitem={name:"your name",address:"your address"},a.state={item:a.defaultitem},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(I.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.idx){e.next=7;break}return e.next=3,fetch(U+"/".concat(this.props.match.params.idx));case 3:return e.next=5,e.sent.json();case 5:t=e.sent,this.setState({item:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name,s=Object(x.a)({},this.state.item);s[a]=n,this.setState({item:s})}},{key:"handleSubmit",value:function(){var e=Object(I.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state.item,a=U+"/"+(n.idx?"".concat(this.props.match.params.idx):""),e.next=5,fetch(a,{method:n.idx?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 5:this.props.history.push("/");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.item,t=Object(a.jsx)("h2",{children:e.idx?"Edit Group":"Add Group"});return Object(a.jsx)("div",{children:Object(a.jsxs)(O.e,{children:[t,Object(a.jsxs)(O.f,{onSubmit:this.handleSubmit,children:[Object(a.jsx)(O.t,{form:!0,children:Object(a.jsx)(O.c,{md:3,children:Object(a.jsxs)(O.g,{children:[Object(a.jsx)(O.i,{for:"idx",children:"id"}),Object(a.jsx)(O.h,{type:"text",name:"idx",id:"idx",value:e.idx||"",onChange:this.handleChange})]})})}),Object(a.jsxs)(O.t,{form:!0,children:[Object(a.jsx)(O.c,{md:5,children:Object(a.jsxs)(O.g,{children:[Object(a.jsx)(O.i,{for:"name",children:"Name"}),Object(a.jsx)(O.h,{type:"text",name:"name",id:"name",value:e.name||"",onChange:this.handleChange})]})}),Object(a.jsx)(O.c,{md:5,children:Object(a.jsxs)(O.g,{children:[Object(a.jsx)(O.i,{for:"name",children:"Address"}),Object(a.jsx)(O.h,{type:"text",name:"address",id:"address",value:e.address||"",onChange:this.handleChange})]})})]}),Object(a.jsxs)(O.g,{children:[Object(a.jsx)(O.b,{color:"primary",type:"submit",children:"Save"})," ",Object(a.jsx)(O.b,{color:"secondary",tag:A.a,to:"/",children:"Cancel"})]})]})]})})}}]),n}(s.Component),W=Object(B.a)(z);function J(e){return Object(s.useEffect)((function(){document.title="DBX TEST MENU"})),""}var X=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).test1handler=function(){a.props.addCounter(),a.props.addListAction({name:"123456"})},a.test2handler=function(){a.props.toggleCounter(),a.props.clearListAction()},a.state={isOpen:!1,counter:0,toggleclock:!1,togglelist:!1},a.toggleclock=a.toggleclock.bind(Object(d.a)(a)),a.togglelist=a.togglelist.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"toggleclock",value:function(){this.setState({toggleclock:!this.state.toggleclock})}},{key:"togglelist",value:function(){this.setState({togglelist:!this.state.togglelist})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(O.d,{isOpen:this.state.togglelist,children:Object(a.jsx)(E,{})}),Object(a.jsx)(O.d,{isOpen:this.state.toggleclock,children:Object(a.jsx)(k,{})}),Object(a.jsx)(O.b,{color:"primary",onClick:this.togglelist,style:{marginBottom:"0.5rem"},children:"List"})," ",Object(a.jsx)(O.b,{color:"primary",onClick:this.toggleclock,style:{marginBottom:"0.5rem"},children:"Form"})," ",Object(a.jsx)(O.b,{color:"primary",onClick:this.test1handler,style:{marginBottom:"0.5rem"},children:"Test1"})," ",Object(a.jsx)(O.b,{color:"primary",onClick:this.test2handler,style:{marginBottom:"0.5rem"},children:"Test2"})," ",Object(a.jsxs)("div",{children:["State:",this.props.s.counter]}),Object(a.jsxs)(O.q,{color:"faded",expand:"md",children:[Object(a.jsx)(O.r,{to:"/",children:"Home"}),Object(a.jsx)(O.s,{onClick:this.toggle}),Object(a.jsxs)(O.n,{className:"ml-auto",navbar:!0,children:[Object(a.jsx)(O.o,{children:Object(a.jsx)(O.p,{href:"/logout",children:"LOGOUT"})}),Object(a.jsx)(O.o,{children:Object(a.jsx)(O.p,{href:"/login",children:"TO USER"})})]})]}),Object(a.jsx)(b.a,{children:Object(a.jsxs)(j.a,{children:[Object(a.jsx)(m.a,{path:"/",exact:!0,component:N}),Object(a.jsx)(m.a,{path:"/effort",exact:!0,component:J}),Object(a.jsx)(m.a,{path:"/dbxedit/:idx",exact:!0,component:W})]})})]})}}]),n}(s.Component),Z={addCounter:function(){return{type:"ADD-TYPE",payload:{counter:0}}},toggleCounter:function(){return{type:"TOGGLE-TYPE",payload:{counter:0}}},zeroCounter:function(){return{type:"ZERO-TYPE",payload:{counter:0}}},addListAction:function(e){return{type:"ADDLIST-TYPE",payload:{item:e}}},clearListAction:function(){return{type:"CLSLIST-TYPE"}}},q=Object(p.b)(C,Z)(X),H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,238)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))},K=(n(225),n(233)),Q=n(31),V={counter:0,lists:[]},$=Object(Q.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-TYPE":return Object(x.a)(Object(x.a)({},e),{},{counter:++e.counter});case"TOGGLE-TYPE":return Object(x.a)(Object(x.a)({},e),{},{counter:e.counter>0?0:1});case"ZERO-TYPE":var n=t.payload.counter;return Object(x.a)(Object(x.a)({},e),{},{counter:n});case"ADDLIST-TYPE":var a=t.payload.item;return Object(x.a)(Object(x.a)({},e),{},{lists:[].concat(Object(L.a)(e.lists),[a])});case"CLSLIST-TYPE":return Object(x.a)(Object(x.a)({},e),{},{lists:[]});default:return e}}}),_=Object(Q.c)($);o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(K.a,{children:Object(a.jsx)(p.a,{store:_,children:Object(a.jsx)(q,{})})})}),document.getElementById("root")),H()},65:function(e,t,n){}},[[226,1,2]]]);
//# sourceMappingURL=main.be6a1e93.chunk.js.map